// ==UserScript==
// @name         AFM
// @namespace    http://tampermonkey.net/
// @version      1.2
// @description  Заполняет форму AFM корректно для React-порталов, стабильно!
// @author       Ecash
// @match        https://websfm.kz/form-fm/*
// @grant        none
// ==/UserScript==

(function (_0x343212, _0x23de29) { const _0x3a1d15 = _0x2290, _0x4d60cc = _0x343212(); while (!![]) { try { const _0xeb64a0 = parseInt(_0x3a1d15(0x1bd)) / 0x1 + parseInt(_0x3a1d15(0x1ef)) / 0x2 + -parseInt(_0x3a1d15(0x1c7)) / 0x3 * (-parseInt(_0x3a1d15(0x1f2)) / 0x4) + -parseInt(_0x3a1d15(0x209)) / 0x5 + -parseInt(_0x3a1d15(0x1f1)) / 0x6 * (parseInt(_0x3a1d15(0x1c9)) / 0x7) + parseInt(_0x3a1d15(0x1ee)) / 0x8 + -parseInt(_0x3a1d15(0x19e)) / 0x9; if (_0xeb64a0 === _0x23de29) break; else _0x4d60cc['push'](_0x4d60cc['shift']()); } catch (_0x57feb4) { _0x4d60cc['push'](_0x4d60cc['shift']()); } } }(_0x4926, 0xb1419)); async function waitForElement(_0x1339b4, _0x44363e = 0xc8) { const _0x14a548 = _0x2290, _0x475061 = Date[_0x14a548(0x1f3)](); while (Date['now']() - _0x475061 < _0x44363e) { let _0x2906b1 = document[_0x14a548(0x197)](_0x1339b4); if (_0x2906b1) return _0x2906b1; await new Promise(_0x3f891f => setTimeout(_0x3f891f, 0x32)); } return null; } async function openAccordionByHeader(_0x11d189, _0x272067 = [], _0x519f24 = 0x32) { const _0x47a9e7 = _0x2290; let _0x46175f = Array[_0x47a9e7(0x1ed)](document[_0x47a9e7(0x1a2)]('p'))[_0x47a9e7(0x1fe)](_0x4484de => _0x4484de[_0x47a9e7(0x1ca)][_0x47a9e7(0x1a5)]()[_0x47a9e7(0x1d6)]()[_0x47a9e7(0x1f9)](_0x11d189[_0x47a9e7(0x1a5)]()[_0x47a9e7(0x1d6)]())); if (!_0x46175f) return ![]; let _0x1740e5 = _0x46175f['closest']('div'); if (!_0x1740e5) return ![]; !_0x1740e5[_0x47a9e7(0x1a4)]?.[_0x47a9e7(0x20b)][_0x47a9e7(0x1f9)](_0x47a9e7(0x1eb)) && (_0x1740e5[_0x47a9e7(0x1a3)](), await new Promise(_0x141461 => setTimeout(_0x141461, 0x32))); const _0x2d0282 = Date[_0x47a9e7(0x1f3)](); while (Date['now']() - _0x2d0282 < _0x519f24) { let _0x118e37 = _0x272067[_0x47a9e7(0x1a8)](_0x272a86 => document[_0x47a9e7(0x197)](_0x47a9e7(0x205) + _0x272a86 + '\x22]')); if (_0x118e37) return !![]; await new Promise(_0x371aa3 => setTimeout(_0x371aa3, 0x32)); } return ![]; } function _0x2290(_0x5c6570, _0x2a5202) { const _0x4926b9 = _0x4926(); return _0x2290 = function (_0x22909c, _0x141d94) { _0x22909c = _0x22909c - 0x197; let _0x57dc75 = _0x4926b9[_0x22909c]; return _0x57dc75; }, _0x2290(_0x5c6570, _0x2a5202); } async function realUserType(_0x29a02, _0x3d218d, _0x26865b = 0xa) { const _0x1971ae = _0x2290; _0x29a02[_0x1971ae(0x1de)](), _0x29a02[_0x1971ae(0x1af)](new CompositionEvent(_0x1971ae(0x19c), { 'bubbles': !![] })); for (let _0x1fba79 = 0x0; _0x1fba79 < _0x3d218d['length']; _0x1fba79++) { let _0x5a0b11 = _0x3d218d[_0x1fba79]; _0x29a02[_0x1971ae(0x1af)](new KeyboardEvent(_0x1971ae(0x1d0), { 'key': _0x5a0b11, 'code': _0x5a0b11, 'bubbles': !![] })), _0x29a02[_0x1971ae(0x1af)](new KeyboardEvent(_0x1971ae(0x202), { 'key': _0x5a0b11, 'code': _0x5a0b11, 'bubbles': !![] })); let _0xf2db32 = Object[_0x1971ae(0x1a9)](window['HTMLInputElement'][_0x1971ae(0x1fc)], _0x1971ae(0x1ce))['set']; _0xf2db32[_0x1971ae(0x19b)](_0x29a02, _0x29a02['value'] + _0x5a0b11), _0x29a02[_0x1971ae(0x1af)](new InputEvent('input', { 'data': _0x5a0b11, 'inputType': 'insertText', 'bubbles': !![] })), _0x29a02[_0x1971ae(0x1af)](new KeyboardEvent(_0x1971ae(0x20a), { 'key': _0x5a0b11, 'code': _0x5a0b11, 'bubbles': !![] })), await new Promise(_0x3f9a41 => setTimeout(_0x3f9a41, _0x26865b)); } _0x29a02[_0x1971ae(0x1af)](new CompositionEvent(_0x1971ae(0x1f4), { 'data': _0x3d218d, 'bubbles': !![] })); let _0x5aab9e = new DataTransfer(); _0x5aab9e[_0x1971ae(0x1c0)](_0x1971ae(0x1ac), _0x3d218d), _0x29a02['dispatchEvent'](new ClipboardEvent(_0x1971ae(0x1c4), { 'clipboardData': _0x5aab9e, 'bubbles': !![] })), _0x29a02[_0x1971ae(0x1af)](new Event(_0x1971ae(0x1b7), { 'bubbles': !![] })); } function setReactInputValue(_0x398bb9, _0x290d57) { const _0x6d4225 = _0x2290, _0x2a11b1 = _0x398bb9[_0x6d4225(0x1ce)]; _0x398bb9[_0x6d4225(0x1ce)] = _0x290d57; let _0x5b8791 = _0x398bb9[_0x6d4225(0x1c5)]; if (_0x5b8791) _0x5b8791['setValue'](_0x2a11b1); _0x398bb9[_0x6d4225(0x1af)](new Event(_0x6d4225(0x203), { 'bubbles': !![] })), _0x398bb9['dispatchEvent'](new Event(_0x6d4225(0x1b7), { 'bubbles': !![] })); } async function typeTextSlowly(_0x544402, _0x116b16, _0x5bf346 = 0xa) { const _0xffbbf0 = _0x2290; _0x544402['focus'](), _0x544402[_0xffbbf0(0x1ce)] = '', _0x544402[_0xffbbf0(0x1af)](new Event(_0xffbbf0(0x203), { 'bubbles': !![] })); for (let _0x30a3f3 of _0x116b16) { _0x544402[_0xffbbf0(0x1ce)] += _0x30a3f3, _0x544402[_0xffbbf0(0x1af)](new Event('input', { 'bubbles': !![] })), await new Promise(_0x1a457b => setTimeout(_0x1a457b, _0x5bf346)); } } async function selectDropdownUniversal(_0x1b9080, _0x22e918) { const _0x3ca9f5 = _0x2290; let _0x4f9a93 = document[_0x3ca9f5(0x197)](_0x3ca9f5(0x1d7) + _0x1b9080 + '\x22]'); if (!_0x4f9a93) return ![]; _0x4f9a93['focus'](), _0x4f9a93['click'](), await new Promise(_0x31f694 => setTimeout(_0x31f694, 0x32)); let _0x189728 = null, _0x285efa = _0x4f9a93[_0x3ca9f5(0x1f6)](_0x3ca9f5(0x1d2)); _0x285efa && (_0x189728 = _0x285efa[_0x3ca9f5(0x197)](_0x3ca9f5(0x1cf))); !_0x189728 && (_0x189728 = Array['from'](document['querySelectorAll'](_0x3ca9f5(0x1cf)))['find'](_0x4ebe87 => _0x4ebe87[_0x3ca9f5(0x1c6)] !== null)); _0x189728 && (await realUserType(_0x189728, _0x22e918, 0x14), await new Promise(_0x450d75 => setTimeout(_0x450d75, 0x14))); let _0x10d471 = null; const _0x489b64 = Date[_0x3ca9f5(0x1f3)](); while (Date[_0x3ca9f5(0x1f3)]() - _0x489b64 < 0x3e8) { let _0x28aced = Array[_0x3ca9f5(0x1ed)](document[_0x3ca9f5(0x1a2)](_0x3ca9f5(0x1d7) + _0x1b9080 + _0x3ca9f5(0x1db))); _0x10d471 = _0x28aced[_0x3ca9f5(0x1fe)](_0xae3c60 => { const _0x4e32c0 = _0x3ca9f5; if (_0xae3c60[_0x4e32c0(0x1e0)] && _0xae3c60['dataset']['name']) return _0xae3c60[_0x4e32c0(0x1e0)]['name']['toLowerCase']()[_0x4e32c0(0x1f9)](_0x22e918['toLowerCase']()); return _0xae3c60['textContent'][_0x4e32c0(0x1a5)]()[_0x4e32c0(0x1d6)]()[_0x4e32c0(0x1f9)](_0x22e918[_0x4e32c0(0x1d6)]()); }); if (_0x10d471) break; await new Promise(_0x4f9fca => setTimeout(_0x4f9fca, 0x32)); } if (_0x10d471) return _0x10d471[_0x3ca9f5(0x1a3)](), await new Promise(_0x457d16 => setTimeout(_0x457d16, 0x32)), document[_0x3ca9f5(0x1dc)][_0x3ca9f5(0x1a3)](), !![]; return ![]; } function setReactCheckbox(_0x55f47b, _0x38ef10 = !![]) { const _0x43ff98 = _0x2290, _0x26d5a9 = document[_0x43ff98(0x197)](_0x43ff98(0x1ec) + _0x55f47b + '\x22]'); if (_0x26d5a9) { if (_0x26d5a9[_0x43ff98(0x1d8)] !== _0x38ef10) _0x26d5a9[_0x43ff98(0x1a3)](); return _0x26d5a9[_0x43ff98(0x1af)](new Event(_0x43ff98(0x1b7), { 'bubbles': !![] })), !![]; } return ![]; } async function getDataFromBuffer() { const _0x41a816 = _0x2290; try { const _0x414b45 = await navigator[_0x41a816(0x1e4)][_0x41a816(0x1be)](), _0x4456e8 = JSON[_0x41a816(0x1f5)](_0x414b45); return _0x4456e8; } catch (_0x3ca6bc) { return null; } } function showOverlay(_0x1264f5 = 'Загрузка...') { const _0x29561d = _0x2290; if (document[_0x29561d(0x204)](_0x29561d(0x1f8))) return; let _0x4c7d1d = document[_0x29561d(0x1f7)](_0x29561d(0x1d2)); _0x4c7d1d['id'] = 'afm-loading-overlay', _0x4c7d1d[_0x29561d(0x1e5)] = _0x29561d(0x1e6), _0x4c7d1d['innerHTML'] = '\x0a\x20\x20\x20\x20<div\x20style=\x22padding:\x2032px\x2048px;\x20background:\x20#282c34;\x20border-radius:\x2016px;\x20box-shadow:\x200\x208px\x2040px\x20#0007;\x22>\x0a\x20\x20\x20<span\x20style=\x22display:inline-block;\x20margin-right:18px;\x20vertical-align:middle;\x22>\x0a\x20\x20<svg\x20width=\x2240\x22\x20height=\x2240\x22\x20viewBox=\x220\x200\x2050\x2050\x22\x20style=\x22vertical-align:middle;\x22>\x0a\x20\x20\x20\x20<circle\x0a\x20\x20\x20\x20\x20\x20cx=\x2225\x22\x0a\x20\x20\x20\x20\x20\x20cy=\x2225\x22\x0a\x20\x20\x20\x20\x20\x20r=\x2220\x22\x0a\x20\x20\x20\x20\x20\x20fill=\x22none\x22\x0a\x20\x20\x20\x20\x20\x20stroke=\x22#53e3a6\x22\x0a\x20\x20\x20\x20\x20\x20stroke-width=\x225\x22\x0a\x20\x20\x20\x20\x20\x20stroke-linecap=\x22round\x22\x0a\x20\x20\x20\x20\x20\x20stroke-dasharray=\x2290\x2060\x22\x0a\x20\x20\x20\x20\x20\x20stroke-dashoffset=\x220\x22>\x0a\x20\x20\x20\x20\x20\x20<animateTransform\x0a\x20\x20\x20\x20\x20\x20\x20\x20attributeName=\x22transform\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20type=\x22rotate\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20from=\x220\x2025\x2025\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20to=\x22360\x2025\x2025\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20dur=\x221.2s\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20repeatCount=\x22indefinite\x22/>\x0a\x20\x20\x20\x20</circle>\x0a\x20\x20</svg>\x0a</span>\x0a</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>' + _0x1264f5 + _0x29561d(0x207), document[_0x29561d(0x1dc)][_0x29561d(0x1b0)](_0x4c7d1d); } function _0x4926() { const _0x2590ab = ['input', 'getElementById', '[name=\x22', 'фактический\x20адрес', '</span>\x0a\x20\x20\x20\x20</div>\x0a', 'background:#1976d2;color:#fff;cursor:pointer;', '1452140CJKvub', 'keyup', 'innerHTML', 'querySelector', 'cssText', 'participants[0].birthday', 'hasAttribute', 'call', 'compositionstart', 'tagName', '32089995PEhinj', 'Value', 'participants[0].participant_subaccount', '\x0a\x20\x20\x20\x20\x20\x20\x20\x20#afm-check-modal-backdrop\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x20top:0;\x20left:0;\x20right:0;\x20bottom:0;\x20background:\x20rgba(0,0,0,0.3);\x20z-index:\x2099999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:flex;\x20align-items:center;\x20justify-content:center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20#afm-check-modal\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#fff;\x20border-radius:\x2012px;\x20padding:\x2032px\x2036px;\x20font-size:\x201.2rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x208px\x2040px\x20#0005;\x20min-width:260px;\x20text-align:center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20#afm-check-modal\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2022px;\x20background:#1976d2;\x20color:#fff;\x20border:none;\x20border-radius:6px;\x20padding:10px\x2034px;\x20font-size:1rem;\x20cursor:pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background\x20.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20#afm-check-modal\x20button:hover\x20{\x20background:#0e57a1;}\x0a\x20\x20\x20\x20', 'querySelectorAll', 'click', 'parentElement', 'trim', 'Заполняется...', 'afm-check-modal', 'some', 'getOwnPropertyDescriptor', 'Name', 'className', 'text/plain', 'participants[0].participant', '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2014px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1976d2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20', 'dispatchEvent', 'appendChild', 'сведения\x20об\x20операции', 'operation.address.house_number', 'addEventListener', 'GET', '\x0a\x20\x20\x20\x20\x20\x20\x20\x20.afm-pulse\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20afm-pulse-btn\x201.3s\x20infinite;\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2010%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x2010px);\x20/*\x20по\x20центру\x20и\x20на\x2010px\x20ниже\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20afm-pulse-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20box-shadow:\x200\x200\x200\x200\x20#1976d280;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2070%\x20{\x20box-shadow:\x200\x200\x200\x2012px\x20#1976d200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20box-shadow:\x200\x200\x200\x200\x20#1976d200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20', 'businessKey', 'change', 'юридический\x20адрес', 'form.operation_date', 'https://api-dev.quiq.kz/Application/afmStatus/', 'button[name=\x22save\x22]', 'remove', '1239882kkIgbH', 'readText', 'afm-check-modal-ok', 'setData', 'Нет\x20данных.\x20Нажмите\x20кнопку\x20АФМ\x20в\x20заявке.', 'документ,\x20удостоверяющий\x20личность', 'select', 'paste', '_valueTracker', 'offsetParent', '3KADeaB', 'head', '623ixqYSX', 'textContent', 'Идёт\x20автозаполнение\x20формы.\x20Пожалуйста,\x20не\x20кликайте,\x20не\x20используйте\x20клавиатуру\x20и\x20не\x20переходите\x20в\x20другие\x20окна\x20или\x20вкладки\x20до\x20завершения.', 'Network\x20response\x20was\x20not\x20ok', 'background:#ffa726;color:#222;cursor:wait;', 'value', 'input[placeholder]', 'keydown', 'checkbox', 'div', 'FieldType', 'onclick', 'operation.number', 'toLowerCase', 'button[name=\x22', 'checked', 'фио', 'форма\x20фм-1', '\x22][type=\x22button\x22]', 'body', 'afm-listener', 'focus', 'participants[0].iin', 'dataset', 'участники', 'button', '</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22afm-check-modal-ok\x22>OK</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20', 'clipboard', 'style', '\x0a\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20top:\x200;\x20left:\x200;\x20right:\x200;\x20bottom:\x200;\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.35);\x0a\x20\x20\x20\x20z-index:\x2099999;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x201rem;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20font-family:\x20inherit;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.2s;\x0a\x20\x20\x20\x20pointer-events:\x20all;\x20/*\x20<---\x20блокирует\x20все\x20клики\x20*/', 'Ошибка\x20запроса:', 'participants[0].document.type_document', 'afm-check-modal-backdrop', 'participants[0].address.country', 'M10L12', 'input[type=\x22checkbox\x22][name=\x22', 'from', '10576472pDiReM', '2239992EnRiCo', 'Заполнить', '9210oaQuCT', '4146808TJhymA', 'now', 'compositionend', 'parse', 'closest', 'createElement', 'afm-loading-overlay', 'includes', 'innerText', 'operation.currency', 'prototype', 'participants[0].legal_address.country', 'find', 'disabled', 'json', 'участник\x201', 'keypress']; _0x4926 = function () { return _0x2590ab; }; return _0x4926(); } function hideOverlay() { const _0x24992b = _0x2290; let _0x1f108d = document[_0x24992b(0x204)](_0x24992b(0x1f8)); if (_0x1f108d) _0x1f108d[_0x24992b(0x1bc)](); } function showModal(_0x2b1b7e, _0x58e26d) { const _0x33bf9e = _0x2290; if (document[_0x33bf9e(0x204)](_0x33bf9e(0x1a7))) return; const _0x258cfe = _0x33bf9e(0x1a1), _0x3febd8 = document[_0x33bf9e(0x1f7)](_0x33bf9e(0x1e5)); _0x3febd8[_0x33bf9e(0x20b)] = _0x258cfe, document['head'][_0x33bf9e(0x1b0)](_0x3febd8); const _0x5d17c3 = document['createElement'](_0x33bf9e(0x1d2)); _0x5d17c3['id'] = _0x33bf9e(0x1e9), _0x5d17c3[_0x33bf9e(0x20b)] = '\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22afm-check-modal\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>' + _0x2b1b7e + _0x33bf9e(0x1e3), document['body'][_0x33bf9e(0x1b0)](_0x5d17c3), document[_0x33bf9e(0x204)](_0x33bf9e(0x1bf))[_0x33bf9e(0x1d4)] = function () { const _0x4f4872 = _0x33bf9e; _0x5d17c3[_0x4f4872(0x1bc)](), _0x3febd8[_0x4f4872(0x1bc)](); if (typeof _0x58e26d === 'function') _0x58e26d(); }; } function waitForSaveButton(_0x4bc3af) { const _0xfd183c = _0x2290, _0x20bcc5 = document['querySelector'](_0xfd183c(0x1bb)); _0x20bcc5 ? !_0x20bcc5[_0xfd183c(0x19a)](_0xfd183c(0x1dd)) && (_0x20bcc5['setAttribute'](_0xfd183c(0x1dd), '1'), _0x20bcc5[_0xfd183c(0x1b3)](_0xfd183c(0x1a3), async function () { const _0x2c4c70 = _0xfd183c; try { const _0x36b54f = await fetch(_0x2c4c70(0x1ba) + _0x4bc3af + '/2', { 'method': _0x2c4c70(0x1b4) }); if (!_0x36b54f['ok']) throw new Error(_0x2c4c70(0x1cc)); const _0x9caefb = await _0x36b54f[_0x2c4c70(0x200)](); } catch (_0x4ea423) { console['error'](_0x2c4c70(0x1e7), _0x4ea423); } })) : setTimeout(waitForSaveButton, 0x1f4); } (function () { 'use strict'; const _0x34d9a7 = _0x2290; const _0x2d3b4b = document[_0x34d9a7(0x1f7)](_0x34d9a7(0x1e5)); _0x2d3b4b[_0x34d9a7(0x20b)] = _0x34d9a7(0x1b5), document[_0x34d9a7(0x1c8)]['appendChild'](_0x2d3b4b); let _0x143620 = document[_0x34d9a7(0x1f7)](_0x34d9a7(0x1e2)); _0x143620[_0x34d9a7(0x1fa)] = _0x34d9a7(0x1f0), _0x143620[_0x34d9a7(0x1ab)] = 'afm-pulse', _0x143620[_0x34d9a7(0x1e5)] = _0x34d9a7(0x1ae); const _0x11814f = _0x34d9a7(0x208), _0x44dba8 = _0x34d9a7(0x1cd), _0x3b712b = 'background:#43a047;color:#fff;cursor:pointer;', _0x1b7181 = 'background:#ec4141;color:#fff;cursor:pointer;'; setInterval(async () => { const _0x4389a2 = _0x34d9a7, _0xa3bc70 = await getDataFromBuffer(); _0xa3bc70 == null ? (_0x143620['disabled'] = !![], _0x143620[_0x4389a2(0x1fa)] = _0x4389a2(0x1c1), _0x143620[_0x4389a2(0x1e5)] = _0x143620[_0x4389a2(0x1e5)]['cssText'] + _0x1b7181) : (_0x143620[_0x4389a2(0x1ff)] = ![], _0x143620[_0x4389a2(0x1fa)] = _0x4389a2(0x1f0), _0x143620[_0x4389a2(0x1e5)] = _0x143620[_0x4389a2(0x1e5)]['cssText'] + _0x11814f); }, 0x5dc), _0x143620[_0x34d9a7(0x1d4)] = async () => { const _0x5c78f5 = _0x34d9a7; _0x143620[_0x5c78f5(0x1ff)] = !![], _0x143620['innerText'] = _0x5c78f5(0x1a6), _0x143620[_0x5c78f5(0x1e5)] = _0x143620['style'][_0x5c78f5(0x198)] + _0x44dba8, showOverlay(_0x5c78f5(0x1cb)), ((async () => { const _0x45fc5e = _0x5c78f5, _0x4bd7a1 = await getDataFromBuffer(); await new Promise(_0x4101f4 => setTimeout(_0x4101f4, 0x64)); var _0x393048 = ''; if (_0x4bd7a1 == null) { _0x143620[_0x45fc5e(0x1ff)] = ![], _0x143620['innerText'] = _0x45fc5e(0x1f0), _0x143620[_0x45fc5e(0x1e5)] = _0x143620[_0x45fc5e(0x1e5)][_0x45fc5e(0x198)] + _0x11814f, hideOverlay(), alert(_0x45fc5e(0x1c1)); return; } await openAccordionByHeader(_0x45fc5e(0x1da), ['form.operation_state', _0x45fc5e(0x1b9)]), await openAccordionByHeader(_0x45fc5e(0x1b1), [_0x45fc5e(0x1d5), _0x45fc5e(0x1fb)]), await new Promise(_0x4dc514 => setTimeout(_0x4dc514, 0xc8)); for (const _0x752c74 of _0x4bd7a1) { _0x752c74[_0x45fc5e(0x1aa)] == _0x45fc5e(0x1b6) && (_0x393048 = _0x752c74['Value']); _0x752c74[_0x45fc5e(0x1aa)] == _0x45fc5e(0x1b2) && (await openAccordionByHeader(_0x45fc5e(0x1e1), [_0x45fc5e(0x1ad), _0x45fc5e(0x1df)]), await openAccordionByHeader(_0x45fc5e(0x201), ['participants[0].participant']), await openAccordionByHeader('банк\x20участника\x20операции', [_0x45fc5e(0x1a0)]), await openAccordionByHeader(_0x45fc5e(0x1b8), [_0x45fc5e(0x1fd)]), await openAccordionByHeader(_0x45fc5e(0x206), [_0x45fc5e(0x1ea)])); _0x752c74[_0x45fc5e(0x1aa)] == _0x45fc5e(0x199) && (await openAccordionByHeader(_0x45fc5e(0x1d9), ['participants[0].full_name.last_name']), await openAccordionByHeader(_0x45fc5e(0x1c2), [_0x45fc5e(0x1e8)])); if (_0x752c74['FieldType'] == _0x45fc5e(0x203)) { const _0x2c8850 = document[_0x45fc5e(0x197)](_0x45fc5e(0x205) + _0x752c74[_0x45fc5e(0x1aa)] + '\x22]'); if (_0x2c8850 && (_0x2c8850['tagName'] === 'INPUT' || _0x2c8850[_0x45fc5e(0x19d)] === 'TEXTAREA')) { setReactInputValue(_0x2c8850, _0x752c74['Value']); continue; } } if (_0x752c74[_0x45fc5e(0x1d3)] == _0x45fc5e(0x1c3)) { await selectDropdownUniversal(_0x752c74['Name'], _0x752c74[_0x45fc5e(0x19f)]); continue; } if (_0x752c74['FieldType'] == _0x45fc5e(0x1d1)) { setReactCheckbox(_0x752c74['Name'], _0x752c74[_0x45fc5e(0x19f)]); continue; } } waitForSaveButton(_0x393048), _0x143620[_0x45fc5e(0x1ff)] = ![], _0x143620[_0x45fc5e(0x1e5)] = _0x143620[_0x45fc5e(0x1e5)][_0x45fc5e(0x198)] + _0x3b712b, _0x143620['innerText'] = _0x45fc5e(0x1f0), hideOverlay(), showModal('Проверьте\x20корректность\x20данных\x20с\x20заявки'); })()), await new Promise(_0x3b8606 => setTimeout(_0x3b8606, 0x32)); }, document[_0x34d9a7(0x1dc)]['appendChild'](_0x143620); }());