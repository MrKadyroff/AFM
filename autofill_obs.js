// ==UserScript==
// @name         AFM
// @namespace    http://tampermonkey.net/
// @version      1.2
// @description  Заполняет форму AFM корректно для React-порталов, стабильно!
// @author       Ecash
// @match        https://websfm.kz/form-fm/*
// @grant        none
// ==/UserScript==

const _0x4d49c1 = _0x14b7; (function (_0x30fd66, _0x3590bc) { const _0x460045 = _0x14b7, _0x58b3d3 = _0x30fd66(); while (!![]) { try { const _0x3a8837 = -parseInt(_0x460045(0x159)) / 0x1 + -parseInt(_0x460045(0x111)) / 0x2 + parseInt(_0x460045(0x14c)) / 0x3 * (parseInt(_0x460045(0x10b)) / 0x4) + -parseInt(_0x460045(0x116)) / 0x5 * (parseInt(_0x460045(0x131)) / 0x6) + parseInt(_0x460045(0x130)) / 0x7 * (parseInt(_0x460045(0x147)) / 0x8) + parseInt(_0x460045(0x107)) / 0x9 + -parseInt(_0x460045(0x13f)) / 0xa * (-parseInt(_0x460045(0x138)) / 0xb); if (_0x3a8837 === _0x3590bc) break; else _0x58b3d3['push'](_0x58b3d3['shift']()); } catch (_0x33d2f5) { _0x58b3d3['push'](_0x58b3d3['shift']()); } } }(_0x1344, 0x2b88d)); async function waitForElement(_0x521ebb, _0xf7c422 = 0xc8) { const _0x2a6044 = _0x14b7, _0x339258 = Date[_0x2a6044(0x137)](); while (Date[_0x2a6044(0x137)]() - _0x339258 < _0xf7c422) { let _0x29adc5 = document['querySelector'](_0x521ebb); if (_0x29adc5) return _0x29adc5; await new Promise(_0x4b53bc => setTimeout(_0x4b53bc, 0x32)); } return null; } async function openAccordionByHeader(_0x4e9d7e, _0x80a183 = [], _0xc015bf = 0x5dc) { const _0x1adcb1 = _0x14b7, _0x2f8745 = Array[_0x1adcb1(0x123)](document[_0x1adcb1(0x13b)]('p'))[_0x1adcb1(0x16e)](_0x7426d => _0x7426d[_0x1adcb1(0x148)][_0x1adcb1(0x15d)]()['toLowerCase']()[_0x1adcb1(0x174)](_0x4e9d7e['trim']()[_0x1adcb1(0x13e)]())); if (!_0x2f8745) return ![]; const _0x330ccd = _0x2f8745[_0x1adcb1(0x12a)](_0x1adcb1(0x133)); if (!_0x330ccd) return ![]; const _0x5dfbc9 = _0x80a183[_0x1adcb1(0x170)](_0xf4657e => document['querySelector']('[name=\x22' + _0xf4657e + '\x22]')); if (_0x5dfbc9) return !![]; _0x330ccd[_0x1adcb1(0x16a)](); const _0x578d08 = Date[_0x1adcb1(0x137)](); while (Date[_0x1adcb1(0x137)]() - _0x578d08 < _0xc015bf) { const _0xfce467 = _0x80a183[_0x1adcb1(0x170)](_0x1002c3 => document[_0x1adcb1(0x115)](_0x1adcb1(0x17b) + _0x1002c3 + '\x22]')); if (_0xfce467) return !![]; await new Promise(_0x3c5b60 => setTimeout(_0x3c5b60, 0x64)); } return console['warn'](_0x1adcb1(0x120), _0x4e9d7e), ![]; } async function realUserType(_0x1b2135, _0xbfab04, _0x39e27b = 0xa) { const _0x4377ad = _0x14b7; _0x1b2135[_0x4377ad(0x176)](), _0x1b2135[_0x4377ad(0x11d)](new CompositionEvent(_0x4377ad(0x127), { 'bubbles': !![] })); for (let _0x642bd2 = 0x0; _0x642bd2 < _0xbfab04[_0x4377ad(0x125)]; _0x642bd2++) { let _0x39fa59 = _0xbfab04[_0x642bd2]; _0x1b2135[_0x4377ad(0x11d)](new KeyboardEvent('keydown', { 'key': _0x39fa59, 'code': _0x39fa59, 'bubbles': !![] })), _0x1b2135[_0x4377ad(0x11d)](new KeyboardEvent(_0x4377ad(0x139), { 'key': _0x39fa59, 'code': _0x39fa59, 'bubbles': !![] })); let _0x53da63 = Object['getOwnPropertyDescriptor'](window['HTMLInputElement'][_0x4377ad(0x165)], _0x4377ad(0x103))[_0x4377ad(0xfc)]; _0x53da63[_0x4377ad(0x152)](_0x1b2135, _0x1b2135['value'] + _0x39fa59), _0x1b2135[_0x4377ad(0x11d)](new InputEvent(_0x4377ad(0x154), { 'data': _0x39fa59, 'inputType': _0x4377ad(0x136), 'bubbles': !![] })), _0x1b2135[_0x4377ad(0x11d)](new KeyboardEvent(_0x4377ad(0x145), { 'key': _0x39fa59, 'code': _0x39fa59, 'bubbles': !![] })), await new Promise(_0x44ab85 => setTimeout(_0x44ab85, _0x39e27b)); } _0x1b2135[_0x4377ad(0x11d)](new CompositionEvent(_0x4377ad(0x10e), { 'data': _0xbfab04, 'bubbles': !![] })); let _0x97571 = new DataTransfer(); _0x97571[_0x4377ad(0x15a)]('text/plain', _0xbfab04), _0x1b2135[_0x4377ad(0x11d)](new ClipboardEvent(_0x4377ad(0x16d), { 'clipboardData': _0x97571, 'bubbles': !![] })), _0x1b2135['dispatchEvent'](new Event(_0x4377ad(0x141), { 'bubbles': !![] })); } function _0x14b7(_0x46ce20, _0x48206e) { const _0x134451 = _0x1344(); return _0x14b7 = function (_0x14b7c2, _0x5b257e) { _0x14b7c2 = _0x14b7c2 - 0xfb; let _0x2c75f1 = _0x134451[_0x14b7c2]; return _0x2c75f1; }, _0x14b7(_0x46ce20, _0x48206e); } function setReactInputValue(_0x3bfec7, _0x22b762) { const _0xf46ba0 = _0x14b7, _0x56f4f3 = _0x3bfec7[_0xf46ba0(0x103)]; _0x3bfec7['value'] = _0x22b762; let _0x1a285d = _0x3bfec7[_0xf46ba0(0x162)]; if (_0x1a285d) _0x1a285d[_0xf46ba0(0x161)](_0x56f4f3); _0x3bfec7[_0xf46ba0(0x11d)](new Event(_0xf46ba0(0x154), { 'bubbles': !![] })), _0x3bfec7[_0xf46ba0(0x11d)](new Event(_0xf46ba0(0x141), { 'bubbles': !![] })); } async function typeTextSlowly(_0x323cac, _0x37f974, _0x20021f = 0x5) { const _0x49af61 = _0x14b7; _0x323cac[_0x49af61(0x176)](), _0x323cac['value'] = '', _0x323cac['dispatchEvent'](new Event(_0x49af61(0x154), { 'bubbles': !![] })); for (let _0x2cd297 of _0x37f974) { _0x323cac[_0x49af61(0x103)] += _0x2cd297, _0x323cac[_0x49af61(0x11d)](new Event(_0x49af61(0x154), { 'bubbles': !![] })), await new Promise(_0x1cc249 => setTimeout(_0x1cc249, _0x20021f)); } } async function selectDropdownUniversal(_0x587a01, _0x1a817a) { const _0x8e0e8f = _0x14b7; let _0x2304b4 = document[_0x8e0e8f(0x115)]('button[name=\x22' + _0x587a01 + '\x22]'); if (!_0x2304b4) return ![]; _0x2304b4[_0x8e0e8f(0x176)](), _0x2304b4[_0x8e0e8f(0x16a)](), await new Promise(_0x3fafd2 => setTimeout(_0x3fafd2, 0x32)); let _0x57aac7 = null, _0x56db8d = _0x2304b4[_0x8e0e8f(0x12a)](_0x8e0e8f(0x133)); _0x56db8d && (_0x57aac7 = _0x56db8d['querySelector'](_0x8e0e8f(0xfb))); !_0x57aac7 && (_0x57aac7 = Array[_0x8e0e8f(0x123)](document[_0x8e0e8f(0x13b)](_0x8e0e8f(0xfb)))[_0x8e0e8f(0x16e)](_0x3a03a9 => _0x3a03a9[_0x8e0e8f(0x15c)] !== null)); _0x57aac7 && (await realUserType(_0x57aac7, _0x1a817a, 0x14), await new Promise(_0xff524f => setTimeout(_0xff524f, 0x14))); let _0x515702 = null; const _0x558cfe = Date[_0x8e0e8f(0x137)](); while (Date[_0x8e0e8f(0x137)]() - _0x558cfe < 0x3e8) { let _0x8bfb0d = Array[_0x8e0e8f(0x123)](document['querySelectorAll']('button[name=\x22' + _0x587a01 + _0x8e0e8f(0x15e))); _0x515702 = _0x8bfb0d[_0x8e0e8f(0x16e)](_0x33ef0c => { const _0x1a65b1 = _0x8e0e8f, _0x1fc780 = (_0x33ef0c['dataset']?.[_0x1a65b1(0x169)] || _0x33ef0c[_0x1a65b1(0x148)] || '')[_0x1a65b1(0x15d)]()[_0x1a65b1(0x13e)](); return _0x1fc780 === _0x1a817a['trim']()[_0x1a65b1(0x13e)](); }); !_0x515702 && (_0x515702 = _0x8bfb0d[_0x8e0e8f(0x16e)](_0x3b8380 => { const _0x4b4aa4 = _0x8e0e8f, _0x51c3a0 = (_0x3b8380[_0x4b4aa4(0x163)]?.[_0x4b4aa4(0x169)] || _0x3b8380[_0x4b4aa4(0x148)] || '')[_0x4b4aa4(0x15d)]()[_0x4b4aa4(0x13e)](); return _0x51c3a0[_0x4b4aa4(0x174)](_0x1a817a['trim']()[_0x4b4aa4(0x13e)]()); })); if (_0x515702) break; await new Promise(_0x446817 => setTimeout(_0x446817, 0x32)); } if (_0x515702) return _0x515702[_0x8e0e8f(0x16a)](), await new Promise(_0x54cd08 => setTimeout(_0x54cd08, 0x32)), document[_0x8e0e8f(0x15f)]['click'](), !![]; return ![]; } function setReactCheckbox(_0x1117ed, _0x89a122 = !![]) { const _0xe0d118 = _0x14b7, _0x479efc = document[_0xe0d118(0x115)](_0xe0d118(0x121) + _0x1117ed + '\x22]'); if (_0x479efc) { if (_0x479efc['checked'] !== _0x89a122) _0x479efc[_0xe0d118(0x16a)](); return _0x479efc[_0xe0d118(0x11d)](new Event(_0xe0d118(0x141), { 'bubbles': !![] })), !![]; } return ![]; } async function getDataFromBuffer() { const _0xb0c689 = _0x14b7; try { const _0x5305f8 = await navigator[_0xb0c689(0x166)][_0xb0c689(0x142)](), _0x4dff6c = JSON[_0xb0c689(0x15b)](_0x5305f8); return _0x4dff6c; } catch (_0x4dda40) { return null; } } function showOverlay(_0x5caca6 = _0x4d49c1(0x109)) { const _0x3e087a = _0x4d49c1; if (document[_0x3e087a(0x160)]('afm-loading-overlay')) return; let _0x4b74ec = document[_0x3e087a(0x156)](_0x3e087a(0x133)); _0x4b74ec['id'] = 'afm-loading-overlay', _0x4b74ec[_0x3e087a(0x14a)] = _0x3e087a(0x113), _0x4b74ec[_0x3e087a(0x16c)] = _0x3e087a(0x112) + _0x5caca6 + _0x3e087a(0x134), document['body'][_0x3e087a(0x13d)](_0x4b74ec); } function hideOverlay() { const _0x18d33f = _0x4d49c1; let _0xd5f10e = document[_0x18d33f(0x160)](_0x18d33f(0xfd)); if (_0xd5f10e) _0xd5f10e[_0x18d33f(0x14e)](); } function showModal(_0x4765b9, _0x4e0255) { const _0x4a7054 = _0x4d49c1; if (document[_0x4a7054(0x160)](_0x4a7054(0x17c))) return; const _0x22da69 = _0x4a7054(0xfe), _0x51ec3e = document[_0x4a7054(0x156)](_0x4a7054(0x14a)); _0x51ec3e['innerHTML'] = _0x22da69, document['head'][_0x4a7054(0x13d)](_0x51ec3e); const _0x77115f = document[_0x4a7054(0x156)]('div'); _0x77115f['id'] = _0x4a7054(0x172), _0x77115f[_0x4a7054(0x16c)] = '\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22afm-check-modal\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>' + _0x4765b9 + _0x4a7054(0x110), document[_0x4a7054(0x15f)][_0x4a7054(0x13d)](_0x77115f), document['getElementById'](_0x4a7054(0x105))[_0x4a7054(0x114)] = function () { const _0x112252 = _0x4a7054; _0x77115f[_0x112252(0x14e)](), _0x51ec3e[_0x112252(0x14e)](); if (typeof _0x4e0255 === _0x112252(0x167)) _0x4e0255(); }; } function waitForSaveButton(_0x15ae14, _0x3c14cd) { const _0x1e87e5 = _0x4d49c1; console['log'](_0x1e87e5(0x11e), _0x3c14cd); const _0x52676b = document['querySelector'](_0x1e87e5(0x119)); _0x52676b ? !_0x52676b['hasAttribute'](_0x1e87e5(0x11a)) && (_0x52676b[_0x1e87e5(0x149)](_0x1e87e5(0x11a), '1'), _0x52676b[_0x1e87e5(0x158)](_0x1e87e5(0x16a), async function () { const _0x5cfd56 = _0x1e87e5; try { const _0x1cfbbb = document[_0x5cfd56(0x115)]('input[name=\x22form.form_number\x22]'), _0x21a4c1 = _0x1cfbbb ? _0x1cfbbb['value'] : null; !_0x21a4c1 && console['warn'](_0x5cfd56(0x10f)); const _0x6ad13c = await fetch(_0x5cfd56(0x146), { 'method': 'POST', 'headers': { 'Content-Type': 'application/json' }, 'body': JSON[_0x5cfd56(0x100)]({ 'requestId': _0x15ae14, 'afmId': _0x21a4c1, 'savedByUser': _0x3c14cd, 'subscribedByUser': '', 'saveUserIp': '', 'subscribeUserIp': '', 'status': 0x2 }) }); if (!_0x6ad13c['ok']) throw new Error(_0x5cfd56(0x150)); const _0x55252c = await _0x6ad13c[_0x5cfd56(0x151)](); } catch (_0x1dae1c) { console[_0x5cfd56(0x124)](_0x5cfd56(0x144), _0x1dae1c); } })) : setTimeout(waitForSaveButton, 0x1f4); } function waitForSubscribeButton(_0x34a80f, _0x425395) { const _0x12805d = _0x4d49c1, _0x322394 = document[_0x12805d(0x115)]('button[name=\x22subscribe\x22]'); _0x322394 ? !_0x322394[_0x12805d(0x17d)](_0x12805d(0x11a)) && (_0x322394[_0x12805d(0x149)](_0x12805d(0x11a), '1'), _0x322394[_0x12805d(0x158)](_0x12805d(0x16a), async function () { const _0x30d2b0 = _0x12805d; try { const _0x2fc8a9 = document[_0x30d2b0(0x115)]('input[name=\x22form.form_number\x22]'), _0x58556d = _0x2fc8a9 ? _0x2fc8a9[_0x30d2b0(0x103)] : null; !_0x58556d && console[_0x30d2b0(0x104)](_0x30d2b0(0x10f)); const _0x34d14c = await fetch(_0x30d2b0(0x146), { 'method': _0x30d2b0(0x157), 'headers': { 'Content-Type': 'application/json' }, 'body': JSON['stringify']({ 'requestId': _0x34a80f, 'afmId': _0x58556d, 'savedByUser': '', 'subscribedByUser': _0x425395, 'saveUserIp': '', 'subscribeUserIp': '', 'status': 0x3 }) }); if (!_0x34d14c['ok']) throw new Error(_0x30d2b0(0x150)); const _0x21c22b = await _0x34d14c[_0x30d2b0(0x151)](); } catch (_0x170890) { console[_0x30d2b0(0x124)](_0x30d2b0(0x144), _0x170890); } })) : (setTimeout(waitForSaveButton, 0x1f4), setTimeout(waitForSubscribeButton, 0x1f4)); } function _0x1344() { const _0x5cfd19 = ['afm-loading-overlay', '\x0a\x20\x20\x20\x20\x20\x20\x20\x20#afm-check-modal-backdrop\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x20top:0;\x20left:0;\x20right:0;\x20bottom:0;\x20background:\x20rgba(0,0,0,0.3);\x20z-index:\x2099999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:flex;\x20align-items:center;\x20justify-content:center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20#afm-check-modal\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#fff;\x20border-radius:\x2012px;\x20padding:\x2032px\x2036px;\x20font-size:\x201.2rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x208px\x2040px\x20#0005;\x20min-width:260px;\x20text-align:center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20#afm-check-modal\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2022px;\x20background:#1976d2;\x20color:#fff;\x20border:none;\x20border-radius:6px;\x20padding:10px\x2034px;\x20font-size:1rem;\x20cursor:pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background\x20.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20#afm-check-modal\x20button:hover\x20{\x20background:#0e57a1;}\x0a\x20\x20\x20\x20', 'form.operation_state', 'stringify', 'participants[0].iin', 'operation.address.house_number', 'value', 'warn', 'afm-check-modal-ok', 'issue', '2000007RARWbB', 'Заполнить', 'Загрузка...', 'innerText', '332Kglekb', 'Заполняется...', 'disabled', 'compositionend', 'Не\x20удалось\x20получить\x20номер\x20формы\x20(form.form_number)', '</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22afm-check-modal-ok\x22>OK</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20', '432568itKVrc', '\x0a\x20\x20\x20\x20<div\x20style=\x22padding:\x2032px\x2048px;\x20background:\x20#282c34;\x20border-radius:\x2016px;\x20box-shadow:\x200\x208px\x2040px\x20#0007;\x22>\x0a\x20\x20\x20<span\x20style=\x22display:inline-block;\x20margin-right:18px;\x20vertical-align:middle;\x22>\x0a\x20\x20<svg\x20width=\x2240\x22\x20height=\x2240\x22\x20viewBox=\x220\x200\x2050\x2050\x22\x20style=\x22vertical-align:middle;\x22>\x0a\x20\x20\x20\x20<circle\x0a\x20\x20\x20\x20\x20\x20cx=\x2225\x22\x0a\x20\x20\x20\x20\x20\x20cy=\x2225\x22\x0a\x20\x20\x20\x20\x20\x20r=\x2220\x22\x0a\x20\x20\x20\x20\x20\x20fill=\x22none\x22\x0a\x20\x20\x20\x20\x20\x20stroke=\x22#53e3a6\x22\x0a\x20\x20\x20\x20\x20\x20stroke-width=\x225\x22\x0a\x20\x20\x20\x20\x20\x20stroke-linecap=\x22round\x22\x0a\x20\x20\x20\x20\x20\x20stroke-dasharray=\x2290\x2060\x22\x0a\x20\x20\x20\x20\x20\x20stroke-dashoffset=\x220\x22>\x0a\x20\x20\x20\x20\x20\x20<animateTransform\x0a\x20\x20\x20\x20\x20\x20\x20\x20attributeName=\x22transform\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20type=\x22rotate\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20from=\x220\x2025\x2025\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20to=\x22360\x2025\x2025\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20dur=\x221.2s\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20repeatCount=\x22indefinite\x22/>\x0a\x20\x20\x20\x20</circle>\x0a\x20\x20</svg>\x0a</span>\x0a</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>', '\x0a\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20top:\x200;\x20left:\x200;\x20right:\x200;\x20bottom:\x200;\x0a\x20\x20\x20\x20background:\x20rgba(0,0,0,0.35);\x0a\x20\x20\x20\x20z-index:\x2099999;\x0a\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20font-size:\x201rem;\x0a\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20font-family:\x20inherit;\x0a\x20\x20\x20\x20transition:\x20opacity\x200.2s;\x0a\x20\x20\x20\x20pointer-events:\x20all;\x20/*\x20<---\x20блокирует\x20все\x20клики\x20*/', 'onclick', 'querySelector', '602785qBzyxo', 'participants[0].bank.country', 'Проверьте\x20корректность\x20данных\x20с\x20заявки', 'button[name=\x22save\x22]', 'afm-listener', 'фактический\x20адрес', 'участники', 'dispatchEvent', 'intin', 'date', '⛔️\x20Аккордеон\x20не\x20раскрыл\x20нужные\x20поля:', 'input[type=\x22checkbox\x22][name=\x22', 'className', 'from', 'error', 'length', 'participants[0].document.issue_date', 'compositionstart', 'банк\x20участника\x20операции', 'TEXTAREA', 'closest', 'operation.currency', 'initiator', 'Name', 'документ,\x20удостоверяющий\x20личность', 'background:#ec4141;color:#fff;cursor:pointer;', '511IUkJtn', '12vrRbmu', 'head', 'div', '</span>\x0a\x20\x20\x20\x20</div>\x0a', '\x0a\x20\x20\x20\x20\x20\x20\x20\x20.afm-pulse\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20afm-pulse-btn\x201.3s\x20infinite;\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2010%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translate(-50%,\x2010px);\x20/*\x20по\x20центру\x20и\x20на\x2010px\x20ниже\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x209999;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20afm-pulse-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20box-shadow:\x200\x200\x200\x200\x20#1976d280;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2070%\x20{\x20box-shadow:\x200\x200\x200\x2012px\x20#1976d200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20box-shadow:\x200\x200\x200\x200\x20#1976d200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20', 'insertText', 'now', '22ExPhMd', 'keypress', 'participants[0].address.country', 'querySelectorAll', 'Идёт\x20автозаполнение\x20формы.\x20Пожалуйста,\x20не\x20кликайте,\x20не\x20используйте\x20клавиатуру\x20и\x20не\x20переходите\x20в\x20другие\x20окна\x20или\x20вкладки\x20до\x20завершения.', 'appendChild', 'toLowerCase', '2364040UzVpOP', 'фио', 'change', 'readText', 'button', 'Ошибка\x20запроса:', 'keyup', 'https://api.quiq.kz/Application/afmStatus', '10136TctFdL', 'textContent', 'setAttribute', 'style', 'сведения\x20об\x20операции', '741zFjTOk', 'background:#1976d2;color:#fff;cursor:pointer;', 'remove', 'background:#43a047;color:#fff;cursor:pointer;', 'Network\x20response\x20was\x20not\x20ok', 'json', 'call', 'форма\x20фм-1', 'input', 'Value', 'createElement', 'POST', 'addEventListener', '172308VUOdKD', 'setData', 'parse', 'offsetParent', 'trim', '\x22][type=\x22button\x22]', 'body', 'getElementById', 'setValue', '_valueTracker', 'dataset', 'form.operation_date', 'prototype', 'clipboard', 'function', 'participants[0].participant', 'name', 'click', '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2014px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1976d2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background\x200.2s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20', 'innerHTML', 'paste', 'find', 'background:#ffa726;color:#222;cursor:wait;', 'some', 'участник\x201', 'afm-check-modal-backdrop', 'Нет\x20данных.\x20Нажмите\x20кнопку\x20АФМ\x20в\x20заявке.', 'includes', 'participants[0].document.type_document', 'focus', 'tagName', 'юридический\x20адрес', 'cssText', 'FieldType', '[name=\x22', 'afm-check-modal', 'hasAttribute', 'input[placeholder]', 'set']; _0x1344 = function () { return _0x5cfd19; }; return _0x1344(); } (function () { 'use strict'; const _0x329f98 = _0x4d49c1; const _0x25b4ae = document[_0x329f98(0x156)](_0x329f98(0x14a)); _0x25b4ae[_0x329f98(0x16c)] = _0x329f98(0x135), document[_0x329f98(0x132)][_0x329f98(0x13d)](_0x25b4ae); let _0x8d1a6f = document[_0x329f98(0x156)](_0x329f98(0x143)); _0x8d1a6f[_0x329f98(0x10a)] = 'Заполнить', _0x8d1a6f[_0x329f98(0x122)] = 'afm-pulse', _0x8d1a6f[_0x329f98(0x14a)] = _0x329f98(0x16b); const _0x50d7ea = _0x329f98(0x14d), _0x530e46 = _0x329f98(0x16f), _0x17e264 = _0x329f98(0x14f), _0x50759a = _0x329f98(0x12f); setInterval(async () => { const _0x4c2ed4 = _0x329f98, _0x5a9d2e = await getDataFromBuffer(); _0x5a9d2e == null ? (_0x8d1a6f[_0x4c2ed4(0x10d)] = !![], _0x8d1a6f[_0x4c2ed4(0x10a)] = _0x4c2ed4(0x173), _0x8d1a6f[_0x4c2ed4(0x14a)] = _0x8d1a6f[_0x4c2ed4(0x14a)]['cssText'] + _0x50759a) : (_0x8d1a6f[_0x4c2ed4(0x10d)] = ![], _0x8d1a6f[_0x4c2ed4(0x10a)] = 'Заполнить', _0x8d1a6f[_0x4c2ed4(0x14a)] = _0x8d1a6f['style'][_0x4c2ed4(0x179)] + _0x50d7ea); }, 0x5dc), _0x8d1a6f[_0x329f98(0x114)] = async () => { const _0x857915 = _0x329f98; _0x8d1a6f['disabled'] = !![], _0x8d1a6f[_0x857915(0x10a)] = _0x857915(0x10c), _0x8d1a6f[_0x857915(0x14a)] = _0x8d1a6f[_0x857915(0x14a)][_0x857915(0x179)] + _0x530e46, showOverlay(_0x857915(0x13c)), ((async () => { const _0x2bf8fc = _0x857915, _0x209b36 = await getDataFromBuffer(); await new Promise(_0x54adb5 => setTimeout(_0x54adb5, 0x64)); var _0x5d4c2a = '', _0x51d470 = ''; if (_0x209b36?.[_0x2bf8fc(0x151)] == null) { _0x51d470 = _0x209b36['initiator'], _0x8d1a6f[_0x2bf8fc(0x10d)] = ![], _0x8d1a6f[_0x2bf8fc(0x10a)] = _0x2bf8fc(0x108), _0x8d1a6f[_0x2bf8fc(0x14a)] = _0x8d1a6f['style'][_0x2bf8fc(0x179)] + _0x50d7ea, hideOverlay(), alert('Нет\x20данных.\x20Нажмите\x20кнопку\x20АФМ\x20в\x20заявке.'); return; } await openAccordionByHeader(_0x2bf8fc(0x153), [_0x2bf8fc(0xff), _0x2bf8fc(0x164)]), await openAccordionByHeader(_0x2bf8fc(0x14b), ['operation.number', _0x2bf8fc(0x12b)]), await new Promise(_0x18d173 => setTimeout(_0x18d173, 0xc8)), _0x51d470 = _0x209b36[_0x2bf8fc(0x12c)]; for (const _0x34fae7 of _0x209b36[_0x2bf8fc(0x151)]) { _0x34fae7[_0x2bf8fc(0x12d)] == 'businessKey' && (_0x5d4c2a = _0x34fae7[_0x2bf8fc(0x155)]); _0x34fae7[_0x2bf8fc(0x12d)] == _0x2bf8fc(0x102) && (await openAccordionByHeader(_0x2bf8fc(0x11c), [_0x2bf8fc(0x168), _0x2bf8fc(0x101)]), await openAccordionByHeader(_0x2bf8fc(0x171), [_0x2bf8fc(0x168)]), await openAccordionByHeader(_0x2bf8fc(0x128), [_0x2bf8fc(0x117)]), await openAccordionByHeader(_0x2bf8fc(0x178), ['participants[0].legal_address.country']), await openAccordionByHeader(_0x2bf8fc(0x11b), [_0x2bf8fc(0x13a)])); _0x34fae7[_0x2bf8fc(0x12d)] == 'participants[0].iin' && (await openAccordionByHeader(_0x2bf8fc(0x140), ['participants[0].full_name.last_name', 'participants[0].full_name.first_name']), await openAccordionByHeader(_0x2bf8fc(0x12e), [_0x2bf8fc(0x175), 'participants[0].document.number', _0x2bf8fc(0x126)])); if (_0x34fae7[_0x2bf8fc(0x17a)] === _0x2bf8fc(0x154)) { let _0x449ee5 = document[_0x2bf8fc(0x115)](_0x2bf8fc(0x17b) + _0x34fae7[_0x2bf8fc(0x12d)] + '\x22]'); if (!_0x449ee5) { const _0x33dcf0 = Date[_0x2bf8fc(0x137)](); while (!_0x449ee5 && Date[_0x2bf8fc(0x137)]() - _0x33dcf0 < 0x7d0) { await new Promise(_0x327aa5 => setTimeout(_0x327aa5, 0x64)), _0x449ee5 = document['querySelector'](_0x2bf8fc(0x17b) + _0x34fae7['Name'] + '\x22]'); } } if (_0x449ee5 && (_0x449ee5['tagName'] === 'INPUT' || _0x449ee5[_0x2bf8fc(0x177)] === _0x2bf8fc(0x129))) { _0x34fae7[_0x2bf8fc(0x12d)][_0x2bf8fc(0x13e)]()[_0x2bf8fc(0x174)](_0x2bf8fc(0x11f)) || _0x34fae7[_0x2bf8fc(0x12d)][_0x2bf8fc(0x13e)]()[_0x2bf8fc(0x174)](_0x2bf8fc(0x106)) ? setReactInputValue(_0x449ee5, _0x34fae7['Value']) : setReactInputValue(_0x449ee5, _0x34fae7[_0x2bf8fc(0x155)]); continue; } } if (_0x34fae7[_0x2bf8fc(0x17a)] == 'select') { await selectDropdownUniversal(_0x34fae7[_0x2bf8fc(0x12d)], _0x34fae7[_0x2bf8fc(0x155)]); continue; } if (_0x34fae7[_0x2bf8fc(0x17a)] == 'checkbox') { setReactCheckbox(_0x34fae7[_0x2bf8fc(0x12d)], _0x34fae7['Value']); continue; } } waitForSaveButton(_0x5d4c2a, _0x51d470), waitForSubscribeButton(_0x5d4c2a, _0x51d470), _0x8d1a6f['disabled'] = ![], _0x8d1a6f[_0x2bf8fc(0x14a)] = _0x8d1a6f[_0x2bf8fc(0x14a)][_0x2bf8fc(0x179)] + _0x17e264, _0x8d1a6f[_0x2bf8fc(0x10a)] = _0x2bf8fc(0x108), hideOverlay(), showModal(_0x2bf8fc(0x118)); })()), await new Promise(_0x47e453 => setTimeout(_0x47e453, 0x32)); }, document[_0x329f98(0x15f)][_0x329f98(0x13d)](_0x8d1a6f); }());